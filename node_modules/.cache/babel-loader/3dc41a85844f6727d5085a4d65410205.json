{"ast":null,"code":"import _classCallCheck from \"/mnt/01D41088BF52D360/Project/CNMReactJS/mychat/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/mnt/01D41088BF52D360/Project/CNMReactJS/mychat/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/mnt/01D41088BF52D360/Project/CNMReactJS/mychat/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/mnt/01D41088BF52D360/Project/CNMReactJS/mychat/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/mnt/01D41088BF52D360/Project/CNMReactJS/mychat/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/mnt/01D41088BF52D360/Project/CNMReactJS/mychat/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/mnt/01D41088BF52D360/Project/CNMReactJS/mychat/src/components/home-page/component-in-home/MenuBar.js\";\nimport React from 'react';\nimport iconGroupChat from '../../../resources/iconadd.png';\nimport iconAppChat from '../../../resources/iconapp.png';\nimport iconLogOut from '../../../resources/iconlogout.png';\nimport avatar from '../../../resources/avatar.jpg';\nimport ObjectID from 'bson-objectid';\nimport { OrderedMap } from 'immutable';\nimport lodash from 'lodash';\nimport '../../';\nimport { withRouter } from \"react-router-dom\";\n\nvar MenuBar =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MenuBar, _React$Component);\n\n  function MenuBar(props) {\n    var _this;\n\n    _classCallCheck(this, MenuBar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MenuBar).call(this, props));\n    _this.onCreateChannel = _this.onCreateChannel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onLogoutApp = _this.onLogoutApp.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(MenuBar, [{\n    key: \"onCreateChannel\",\n    value: function onCreateChannel() {\n      var store = this.props.store;\n      var channelId = new ObjectID().toString();\n      var currentUser = store.getCurrentUser;\n      var currentUserId = lodash.get(currentUser, '_id');\n      var updated = new Date();\n      var newChannel = {\n        _id: channelId,\n        title: \"New Messenger\",\n        lastMessage: \"\",\n        avatar: avatar,\n        members: new OrderedMap(),\n        messages: new OrderedMap(),\n        isNew: true,\n        userId: currentUserId,\n        updated: updated.getTime(),\n        created: new Date()\n      };\n      newChannel.members = newChannel.members.set(currentUserId, currentUser);\n      store.onCreateNewChannel(newChannel);\n    }\n  }, {\n    key: \"onLogoutApp\",\n    value: function onLogoutApp() {\n      var store = this.props.store;\n      this.props.history.push('/');\n      store.logout();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(\"menubar\");\n      return React.createElement(\"div\", {\n        className: \"menu-bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"menus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"icon-app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: iconAppChat,\n        alt: \"avatar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"action-creategroup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: iconGroupChat,\n        alt: \"avatar\",\n        onClick: this.onCreateChannel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"action-logout\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: iconLogOut,\n        alt: \"avatar\",\n        onClick: this.onLogoutApp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return MenuBar;\n}(React.Component);\n\nexport default withRouter(MenuBar); //note","map":{"version":3,"sources":["/mnt/01D41088BF52D360/Project/CNMReactJS/mychat/src/components/home-page/component-in-home/MenuBar.js"],"names":["React","iconGroupChat","iconAppChat","iconLogOut","avatar","ObjectID","OrderedMap","lodash","withRouter","MenuBar","props","onCreateChannel","bind","onLogoutApp","store","channelId","toString","currentUser","getCurrentUser","currentUserId","get","updated","Date","newChannel","_id","title","lastMessage","members","messages","isNew","userId","getTime","created","set","onCreateNewChannel","history","push","logout","console","log","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport iconGroupChat from '../../../resources/iconadd.png';\nimport iconAppChat from '../../../resources/iconapp.png';\nimport iconLogOut from '../../../resources/iconlogout.png';\nimport avatar from '../../../resources/avatar.jpg';\nimport ObjectID from 'bson-objectid';\nimport { OrderedMap } from 'immutable';\nimport lodash from 'lodash';\nimport '../../';\nimport {withRouter} from \"react-router-dom\";\n\n\nclass MenuBar extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onCreateChannel = this.onCreateChannel.bind(this);\n        this.onLogoutApp = this.onLogoutApp.bind(this);\n    }\n    \n    onCreateChannel() {\n        const { store } = this.props;\n        const channelId = new ObjectID().toString();\n        const currentUser = store.getCurrentUser;\n        const currentUserId = lodash.get(currentUser, '_id');\n        const updated = new Date();\n\n        const newChannel = {\n            _id: channelId,\n            title: \"New Messenger\",\n            lastMessage: \"\",\n            avatar: avatar,\n            members: new OrderedMap(),\n            messages: new OrderedMap(),\n            isNew: true,\n            userId: currentUserId,\n            updated: updated.getTime(),\n            created: new Date(),\n        }   \n\n        newChannel.members = newChannel.members.set(currentUserId, currentUser); \n        store.onCreateNewChannel(newChannel);\n    }\n\n    onLogoutApp(){\n        const { store } = this.props;\n        this.props.history.push('/');\n        store.logout();\n    }\n\n    render() {\n        console.log(\"menubar\");\n        return (\n            <div className=\"menu-bar\">\n                <div className=\"menus\">\n                    <div className=\"icon-app\">\n                        <img src={iconAppChat} alt=\"avatar\"/>\n                    </div>\n\n                    <div className=\"action-creategroup\">\n                        <img src={iconGroupChat} alt=\"avatar\" onClick={this.onCreateChannel}/>\n                    </div>\n\n                    <div className=\"action-logout\">\n                        <img src={iconLogOut} alt=\"avatar\"onClick={this.onLogoutApp}/>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(MenuBar); //note\n"]},"metadata":{},"sourceType":"module"}